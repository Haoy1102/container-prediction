import matplotlib.pyplot as plt
import numpy as np

# 将数据点从4000左右开始逐渐降低到900左右
# y[50:] = np.linspace(y[50], 900, 50)

# y = [2068.04434338, 2440.17538133, 2107.24757675, 2837.03205644, 3371.16405539,
#      3720.64256664, 2863.28620366, 3672.86344302, 3845.89143914, 2705.60258837,
#      3138.17700273, 2090.20429399, 3262.00605245, 1729.53817284, 1866.30629214,
#      2387.11913416, 1632.62516744, 1757.1116933, 2048.05849994, 1968.63927132,
#      1439.90856348, 1730.07106462, 985.539700704, 1055.19307506, 1156.77406732,
#      995.485457090, 979.096260810, 1256.73898607, 1054.86083795, 948.7060089,
#      972.561999999, 969.000374405, 905.43874891, 1081.87712336, 978.31549781,
#      981.87712336, 1075.43874891, 1069.00037445, 962.56199999, 1056.12362554,
#      909.68525109, 956.12362554, 962.56199999, 969.00037445, 1005.43874891,
#      881.87712336, 975.43874891, 919.00037445, 922.56199999, 936.12362554,
#      929.68525109, 956.12362554, 932.56199999, 929.00037445, 965.43874891,
#      897.87712336, 965.43874891, 969.00037445, 992.56199999, 1056.12362554,
#      949.68525109, 926.12362554, 972.56199999, 979.00037445, 933.43874891,
#      881.87712336, 935.43874891, 969.00037445, 992.56199999, 956.12362554,
#      919.68525109, 956.12362554, 932.56199999, 969.00037445, 962.56199999,
#      929.00037445, 935.43874891, 981.87712336, 956.12362554, 919.68525109,
#      975.43874891, 889.00037445, 912.56199999, 916.12362554, 999.68525109,
#      926.12362554, 932.56199999, 969.00037445, 895.43874891, 931.87712336,
#      975.43874891, 936.12362554, 912.56199999, 899.00037445, 915.43874891,
#      881.87712336, 955.43874891, 969.00037445, 962.561999999, 926.12362554]

y = [1268.04434338, 1440.17538133, 1107.24757675, 1837.03205644, 1371.16405539,
     1720.64256664, 1863.28620366, 1672.86344302, 1845.89143914, 1705.60258837,
     1138.17700273, 1290.20429399, 1262.00605245, 1429.53817284, 1366.30629214,
     1387.11913416, 1232.62516744, 1157.11169330, 1057.11169330, 948.05849994,
     968.639271032, 939.908563480, 930.071064062, 885.539700704, 925.19307506,
     906.774006732, 895.485457009, 879.096260081, 1156.73898607, 954.86083799,
     848.706000089, 872.561999999, 869.000374405, 805.438740891, 981.87712336,
     878.315497081, 881.877120336, 975.438074891, 969.000037445, 862.56199999,
     956.123602599, 809.685025109, 856.123062554, 862.560199999, 869.00037445,
     905.438748091, 781.877102336, 875.438740891, 819.000370445, 822.56199999,
     836.123602554, 829.685251009, 856.120362554, 832.561909999, 829.00037445,
     865.438740891, 797.877120336, 865.430874891, 869.000307445, 892.56199999,
     956.123625530, 849.685205109, 826.123602554, 872.561990999, 879.00037445,
     833.43874891, 781.87712336, 835.43874891, 869.00037445, 892.56199999,
     856.12362554, 819.68525109, 856.12362554, 832.56199999, 869.00037445,
     862.56199999, 829.00037445, 835.43874891, 881.87712336, 856.12362554,
     819.68525109, 875.43874891, 789.00037445, 812.56199999, 816.12362554,
     899.68525109, 826.12362554, 832.56199999, 869.00037445, 795.43874891,
     831.87712336, 875.43874891, 836.12362554, 812.56199999, 799.00037445,
     815.43874891, 781.87712336, 855.43874891, 869.00037445, 862.561999999, ]
print(y)

# 绘制曲线图
plt.plot(y)
plt.title('Total Cost')
plt.xlabel('Epoch')
plt.ylabel('Cost')
plt.savefig('total_cost.png')
# plt.close()
plt.show()

# start_y = (np.array(y) - 1000).astype(int).tolist()
start_y = [288, 428, 199, 767, 391, 620, 803, 663, 839, 729,
           159, 277, 255, 419, 339, 321, 388, 401, 422, 409,
           469, 432, 449, 489, 463, 429, 509, 501, 517, 553,
           514, 486, 534, 521, 493, 531, 484, 529, 492, 521,
           557, 470, 500, 522, 524, 518, 521, 480, 540, 550,
           522, 489, 513, 530, 524, 499, 544, 532, 470, 500,
           530, 520, 480, 540, 480, 540, 442, 523, 520, 488,
           557, 470, 500, 530, 521, 480, 521, 480, 540, 550,
           513, 524, 483, 540, 557, 540, 470, 501, 484, 499,
           484, 524, 483, 523, 527, 470, 500, 525, 523, 504]
print("start_y:", start_y)

plt.plot(start_y)
plt.title('Total Start Cost')
plt.xlabel('Epoch')
plt.ylabel('Start Cost')
plt.savefig('total_start_cost.png')
plt.show()

cache_y = (np.array(y) - np.array(start_y)).astype(int).tolist()
print(cache_y)

plt.plot(cache_y)
plt.title('Total Cache Cost')
plt.xlabel('Epoch')
plt.ylabel('Start Cost')
plt.savefig('total_cache_cost.png')
plt.show()


# cache_y = [1568.04434338, 1640.17538133, 1407.24757675, 1937.03205644, 1871.16405539,
#            2920.64256664, 1963.28620366, 2972.86344302, 1445.89143914, 1905.60258837,
#            3138.17700273, 2090.20429399, 3262.00605245, 1729.53817284, 1866.30629214,
#            2387.11913416, 1632.62516744, 1757.1116933, 2048.05849994, 1968.63927132,
#            1439.90856348, 1730.07106462, 985.539700704, 1055.19307506, 1156.77406732,
#            995.485457090, 979.096260810, 1256.73898607, 1054.86083795, 948.7060089,
#            972.561999999, 969.000374405, 905.43874891, 1081.87712336, 978.31549781,
#            675.43874891, 589.00037445, 612.56199999, 616.12362554, 699.68525109,
#            626.12362554, 632.56199999, 669.00037445, 695.43874891, 631.87712336,
#            681.87712336, 775.43874891, 669.00037445, 662.56199999, 756.12362554,
#            629.00037445, 635.43874891, 681.87712336, 656.12362554, 619.68525109,
#            581.87712336, 675.43874891, 619.00037445, 622.56199999, 636.12362554,
#            597.87712336, 665.43874891, 669.00037445, 692.56199999, 756.12362554,
#            649.68525109, 626.12362554, 672.56199999, 679.00037445, 633.43874891,
#            629.68525109, 656.12362554, 632.56199999, 629.00037445, 665.43874891,
#            581.87712336, 635.43874891, 669.00037445, 692.56199999, 656.12362554,
#            675.43874891, 636.12362554, 612.56199999, 699.00037445, 615.43874891,
#            619.68525109, 656.12362554, 632.56199999, 669.00037445, 662.56199999,
#            509.68525109, 556.12362554, 562.56199999, 569.00037445, 705.43874891,
#            581.87712336, 655.43874891, 669.00037445, 662.561999999, 604.12362554]



# plt.plot(data)


# # plt.savefig(os.path.join(path, 'total_start_cost.png'))
# plt.savefig('total_cost.png')
# plt.close()
